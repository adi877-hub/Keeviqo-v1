(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{1401:function(e,t,n){Promise.resolve().then(n.bind(n,1808))},1808:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d},dynamic:function(){return u}});var r=n(7437),a=n(2265),i=n(1180),s=n(495),o=n(3102),l=n(879);let u="force-dynamic";function d(){let e=(0,i.e)(),[t,n]=(0,a.useState)("email"),[u,d]=(0,a.useState)(""),[c,f]=(0,a.useState)(""),[m,p]=(0,a.useState)(null);async function h(t){t.preventDefault(),p(null);let{error:r}=await e.auth.signInWithOtp({email:u,options:{shouldCreateUser:!0}});r?p(r.message):(p("קוד נשלח למייל. בדקו את תיבת הדואר והזינו את הקוד להשלמת ההרשמה."),n("otp"))}async function v(t){t.preventDefault(),p(null);let{error:n}=await e.auth.verifyOtp({email:u,token:c,type:"signup"});n?p(n.message):window.location.href="/dashboard"}return(0,r.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"הרשמה"}),"email"===t?(0,r.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"email",children:"אימייל"}),(0,r.jsx)(o.I,{id:"email",type:"email",required:!0,value:u,onChange:e=>d(e.target.value),placeholder:"name@example.com"})]}),(0,r.jsx)(s.z,{type:"submit",children:"שליחת קוד"})]}):(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"otp",children:"קוד אימות"}),(0,r.jsx)(o.I,{id:"otp",inputMode:"numeric",pattern:"[0-9]*",required:!0,value:c,onChange:e=>f(e.target.value),placeholder:"הזינו את הקוד מהמייל"})]}),(0,r.jsx)(s.z,{type:"submit",children:"אימות והמשך"})]}),m&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:m}),(0,r.jsxs)("p",{className:"text-sm",children:["כבר יש לכם חשבון? ",(0,r.jsx)("a",{href:"/auth/login",className:"underline",children:"התחברות"})]})]})}},495:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(7437),a=n(2265),i=n(1538),s=n(2218),o=n(7440);let l=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:opacity-90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:n,variant:a,size:s,asChild:u=!1,...d}=e,c=u?i.g7:"button";return(0,r.jsx)(c,{className:(0,o.cn)(l({variant:a,size:s,className:n})),ref:t,...d})});u.displayName="Button"},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var r=n(7437),a=n(2265),i=n(7440);let s=a.forwardRef((e,t)=>{let{className:n,type:a,...s}=e;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});s.displayName="Input"},879:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(7437),a=n(2265),i=n(5171),s=a.forwardRef((e,t)=>(0,r.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var o=n(7440);let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s,{ref:t,className:(0,o.cn)("text-sm font-medium leading-none",n),...a})});l.displayName=s.displayName},1180:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var r=n(4392);let a=()=>(0,r.createClientComponentClient)()},7440:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var r=n(4839),a=n(6164);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},5171:function(e,t,n){"use strict";n.d(t,{WV:function(){return s}});var r=n(2265);n(4887);var a=n(1538),i=n(7437),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=r.forwardRef((e,n)=>{let{asChild:r,...s}=e,o=r?a.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...s,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{})}},function(e){e.O(0,[392,183,971,23,744],function(){return e(e.s=1401)}),_N_E=e.O()}]);