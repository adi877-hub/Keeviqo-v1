(()=>{var e={};e.id=958,e.ids=[958],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},303:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(1313),r(5866),r(1506);var s=r(3191),n=r(8716),a=r(7922),i=r.n(a),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(protected)",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1313)),"/workspace/keeviqo/app/(protected)/upload/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/workspace/keeviqo/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/keeviqo/app/(protected)/upload/page.tsx"],u="/(protected)/upload/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(protected)/upload/page",pathname:"/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3805:(e,t,r)=>{Promise.resolve().then(r.bind(r,2623))},8087:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9404,23))},7774:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},2623:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,dynamic:()=>o});var s=r(326),n=r(7577),a=r(5472),i=r(772);let o="force-dynamic";function l(){let e=(0,n.useMemo)(()=>(0,a.e)(),[]),[t,r]=(0,n.useState)([]),[o,l]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null);async function u(t){l(!0);let{data:s,error:n}=await e.storage.from("documents").list(`${t}`,{limit:100,sortBy:{column:"name",order:"asc"}});!n&&s&&r(s.map(e=>({name:e.name,path:`${t}/${e.name}`}))),l(!1)}async function p(t){let r=t.target.files?.[0];if(!r||!d)return;l(!0);let s=`${d}/${Date.now()}-${r.name}`,{error:n}=await e.storage.from("documents").upload(s,r,{upsert:!1});n||await u(d),l(!1)}async function m(t){l(!0),await e.storage.from("documents").remove([t]),d&&await u(d),l(!1)}return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"העלאת מסמכים"}),s.jsx("input",{type:"file",onChange:p}),o&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"טוען..."}),(0,s.jsxs)("ul",{className:"space-y-2",children:[t.map(t=>(0,s.jsxs)("li",{className:"flex items-center justify-between border rounded-md p-3",children:[s.jsx("span",{className:"truncate",children:t.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("a",{className:"underline text-sm",href:"#",onClick:async r=>{r.preventDefault();let{data:s}=await e.storage.from("documents").createSignedUrl(t.path,60);s?.signedUrl&&window.open(s.signedUrl,"_blank")},children:"הורדה"}),s.jsx(i.z,{variant:"outline",onClick:()=>m(t.path),children:"מחיקה"})]})]},t.path)),0===t.length&&s.jsx("li",{className:"text-sm text-muted-foreground",children:"אין מסמכים להצגה"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'יש ליצור בבסיס הנתונים שלכם bucket בשם "documents" עם מדיניות גישה מתאימה.'})]})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(326),n=r(7577),a=r(4214),i=r(8671),o=r(7863);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:opacity-90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},d)=>{let c=n?a.g7:"button";return s.jsx(c,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},5472:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var s=r(9813);let n=()=>(0,s.createClientComponentClient)()},7863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(1135),n=r(1009);function a(...e){return(0,n.m6)((0,s.W)(e))}},1313:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l,dynamic:()=>o});var s=r(8570);let n=(0,s.createProxy)(String.raw`/workspace/keeviqo/app/(protected)/upload/page.tsx`),{__esModule:a,$$typeof:i}=n;n.default;let o=(0,s.createProxy)(String.raw`/workspace/keeviqo/app/(protected)/upload/page.tsx#dynamic`),l=(0,s.createProxy)(String.raw`/workspace/keeviqo/app/(protected)/upload/page.tsx#default`)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a});var s=r(9510);r(7272);var n=r(7371);let a={title:"Keeviqo",description:"מערכת חכמה לניהול אישי ובירוקרטי"};function i({children:e}){return s.jsx("html",{lang:"he",dir:"rtl",children:(0,s.jsxs)("body",{className:"min-h-screen bg-background text-foreground",children:[s.jsx("header",{className:"border-b bg-white sticky top-0 z-50",children:(0,s.jsxs)("nav",{className:"container mx-auto flex items-center justify-between py-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(n.default,{className:"text-xl font-bold",href:"/dashboard",children:"Keeviqo"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"המערכת החכמה לניהול חיים"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx(n.default,{href:"/dashboard",children:"דשבורד"}),s.jsx(n.default,{href:"/categories",children:"קטגוריות"}),s.jsx(n.default,{href:"/upload",children:"מסמכים"}),s.jsx(n.default,{href:"/vision",children:"חזון"}),s.jsx(n.default,{href:"/auth/login",children:"התחברות"})]})]})}),s.jsx("main",{className:"container mx-auto py-6",children:e})]})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[991,453],()=>r(303));module.exports=s})();